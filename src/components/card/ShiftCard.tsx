import React from 'react';
import { View, Text, TouchableOpacity } from 'react-native';
import * as AvatarPrimitive from '@rn-primitives/avatar';
import Svg, { Path } from 'react-native-svg';
import ActionButtons from '../buttons/ActionButtons';

interface ShiftCardProps {
  status: string;
  duration: string;
  distance: string;
  userName: string;
  date: string;
  time: string;
  location: string;
  profileImage: string;
  notificationCount: number;
}

const ShiftCard: React.FC<ShiftCardProps> = ({
  status,
  duration,
  distance,
  userName,
  date,
  time,
  location,
  profileImage,
  notificationCount,
}) => {
  return (
    <View className="bg-[#FF8A47] rounded-xl pl-1 pr-1 pb-1 pt-2 mb-7">
      {/* Shift Header */}
      <View className="flex-row justify-between items-center pb-1 pl-2 pr-2 rounded-lg">
        <View className="flex-row justify-between items-center">
          {/* Status and Duration */}
          <View className="bg-white rounded-md py-1 px-2 mr-2 flex-row items-center">
            {/* SVG Icon */}
            <Svg width="20" height="20" viewBox="0 0 56 56" className="mr-2">
              <Path
                d="M0 0 C1.32 0.66 2.64 1.32 4 2 C4 3.32 4 4.64 4 6 C7.63 6 11.26 6 15 6 C15.33 4.35 15.66 2.7 16 1 C17.32 1 18.64 1 20 1 C20.33 2.65 20.66 4.3 21 6 C22.11375 6.103125 23.2275 6.20625 24.375 6.3125 C26.169375 6.6528125 26.169375 6.6528125 28 7 C30.13586678 10.20380017 30.23132175 11.01939967 30.125 14.6875 C30.10695312 15.49574219 30.08890625 16.30398437 30.0703125 17.13671875 C30.04710937 17.75160156 30.02390625 18.36648437 30 19 C28.35 19.33 26.7 19.66 25 20 C25 19.34 25 18.68 25 18 C15.1 18 5.2 18 -5 18 C-5 25.59 -5 33.18 -5 41 C-3.16953125 40.94199219 -1.3390625 40.88398437 0.546875 40.82421875 C2.94789121 40.7773239 5.34893494 40.73182346 7.75 40.6875 C8.9565625 40.64560547 10.163125 40.60371094 11.40625 40.56054688 C12.56640625 40.54443359 13.7265625 40.52832031 14.921875 40.51171875 C15.99018555 40.48553467 17.05849609 40.45935059 18.15917969 40.43237305 C21 41 21 41 23.37988281 43.53051758 C23.91452148 44.34544678 24.44916016 45.16037598 25 46 C20.49767666 46.07417023 15.99570909 46.1286105 11.49291992 46.16479492 C9.96128139 46.17987936 8.42968602 46.20034978 6.89819336 46.22631836 C4.69634346 46.26271847 2.49506467 46.27972913 0.29296875 46.29296875 C-0.39150833 46.30845261 -1.07598541 46.32393646 -1.78120422 46.33988953 C-4.46345504 46.34083853 -6.54586617 46.24501063 -8.9309082 44.95825195 C-10.60623943 41.88955322 -10.42722853 38.78294117 -10.3984375 35.375 C-10.40130768 34.63169434 -10.40417786 33.88838867 -10.40713501 33.12255859 C-10.40917476 31.5524011 -10.403651 29.98221814 -10.39111328 28.41210938 C-10.37505703 26.00853668 -10.39096352 23.60664539 -10.41015625 21.203125 C-10.4081738 19.67707962 -10.40433009 18.15103529 -10.3984375 16.625 C-10.40754654 15.54677979 -10.40754654 15.54677979 -10.4168396 14.44677734 C-10.37577836 11.53409656 -10.32957011 9.48846782 -8.67431641 7.03515625 C-6.148037 5.47326872 -3.89388491 5.80707434 -1 6 C-1.020625 5.195625 -1.04125 4.39125 -1.0625 3.5625 C-1 1 -1 1 0 0 Z"
                fill="#F97215"
                transform="translate(10,2)"
              />
              <Path
                d="M0 0 C4.11639609 1.77753468 6.76553623 4.11037788 9 8 C9.86663694 12.36281334 10.01343418 16.23681514 7.75390625 20.16796875 C4.40510612 24.21826317 2.14250293 25.7939901 -3.25 26.3125 C-7.7245219 25.93962318 -10.61636411 24.96504176 -14 22 C-16.31525604 18.16535718 -17.02936924 15.85170803 -16.875 11.375 C-15.70975893 6.88049874 -14.40641516 4.16531542 -10.8125 1.1875 C-7.08533241 -0.38619298 -3.9892011 -0.59189366 0 0 Z M1 9 C-0.65 10.65 -2.3 12.3 -4 14 C-6.475 13.01 -6.475 13.01 -9 12 C-8.34 13.32 -7.68 14.64 -7 16 C-2.87387385 16.44844853 -2.87387385 16.44844853 -0.25 13.5 C0.4925 12.675 1.235 11.85 2 11 C1.67 10.34 1.34 9.68 1 9 Z"
                fill="#F87215"
                transform="translate(47,22)"
              />
              <Path
                d="M0 0 C3.96 0 7.92 0 12 0 C12.09765625 8.49609375 12.09765625 8.49609375 12 11 C11 12 11 12 8.75 12.1328125 C7.8425 12.13023438 6.935 12.12765625 6 12.125 C4.63875 12.12886719 4.63875 12.12886719 3.25 12.1328125 C1 12 1 12 0 11 C-0.14310287 7.3308423 -0.04221662 3.67284559 0 0 Z"
                fill="#F97216"
                transform="translate(8,25)"
              />
            </Svg>
            <Text className="text-[#FF8A47] text-sm mr-2 font-medium">{status}</Text>
            <Text className="bg-[#FFECB3] text-[#FF8A47] text-xs rounded-[4px] px-2 font-bold">
              {duration}
            </Text>
          </View>
        </View>

        <View className="flex-row items-center">
          {/* Car Icon */}
          <Svg width="40" height="40" viewBox="0 -7 48 48">
            <Path d="M 6.59375 6 C 5.257813 6 4.023438 6.667969 3.28125 7.78125 L 0.5 11.9375 C 0.171875 12.429688 0 13 0 13.59375 L 0 20.21875 C 0 21.132813 0.613281 21.933594 1.5 22.15625 L 4.09375 22.8125 C 4.46875 24.628906 6.078125 26 8 26 C 9.851563 26 11.398438 24.71875 11.84375 23 L 21.15625 23 C 21.601563 24.71875 23.148438 26 25 26 C 26.851563 26 28.398438 24.71875 28.84375 23 L 30 23 C 31.09375 23 32 22.09375 32 21 L 32 17.34375 C 32 15.511719 30.746094 13.910156 28.96875 13.46875 L 23.5625 12.09375 L 19.65625 7.4375 C 18.894531 6.527344 17.78125 6 16.59375 6 Z M 6.59375 8 L 11 8 L 11 12 L 2.875 12 L 4.9375 8.90625 L 4.9375 8.875 C 5.308594 8.316406 5.921875 8 6.59375 8 Z M 13 8 L 16.59375 8 C 17.1875 8 17.746094 8.261719 18.125 8.71875 L 20.875 12 L 13 12 Z M 2 14 L 22.875 14 L 28.5 15.40625 C 29.394531 15.628906 30 16.421875 30 17.34375 L 30 21 L 28.84375 21 C 28.398438 19.28125 26.851563 18 25 18 C 23.148438 18 21.601563 19.28125 21.15625 21 L 11.84375 21 C 11.398438 19.28125 9.851563 18 8 18 C 6.226563 18 4.738281 19.171875 4.21875 20.78125 L 2 20.21875 Z M 8 20 C 9.117188 20 10 20.882813 10 22 C 10 23.117188 9.117188 24 8 24 C 6.882813 24 6 23.117188 6 22 C 6 20.882813 6.882813 20 8 20 Z M 25 20 C 26.117188 20 27 20.882813 27 22 C 27 23.117188 26.117188 24 25 24 C 23.882813 24 23 23.117188 23 22 C 23 20.882813 23.882813 20 25 20 Z" fill="white" />
          </Svg>
          <Text className="text-white font-medium text-sm">{distance}</Text>

          {/* New Sun Icon */}
          <Svg x="0px" y="0px" width="20" height="20" viewBox="0 0 48 48" className="ml-4">
            <Path d="M 23.976562 3.9785156 A 1.50015 1.50015 0 0 0 22.5 5.5 L 22.5 8.5 A 1.50015 1.50015 0 1 0 25.5 8.5 L 25.5 5.5 A 1.50015 1.50015 0 0 0 23.976562 3.9785156 z M 10.902344 9.4042969 A 1.50015 1.50015 0 0 0 9.8574219 11.980469 L 11.978516 14.101562 A 1.5012202 1.5012202 0 0 0 14.101562 11.978516 L 11.980469 9.8574219 A 1.50015 1.50015 0 0 0 10.902344 9.4042969 z M 37.050781 9.4042969 A 1.50015 1.50015 0 0 0 36.019531 9.8574219 L 33.898438 11.978516 A 1.5012202 1.5012202 0 0 0 36.021484 14.101562 L 38.142578 11.980469 A 1.50015 1.50015 0 0 0 37.050781 9.4042969 z M 24 13 C 17.942632 13 13 17.942636 13 24 C 13 30.057364 17.942632 35 24 35 C 30.057368 35 35 30.057364 35 24 C 35 17.942636 30.057368 13 24 13 z M 24 16 C 28.436049 16 32 19.563954 32 24 C 32 28.436046 28.436049 32 24 32 C 19.563951 32 16 28.436046 16 24 C 16 19.563954 19.563951 16 24 16 z M 5.5 22.5 A 1.50015 1.50015 0 1 0 5.5 25.5 L 8.5 25.5 A 1.50015 1.50015 0 1 0 8.5 22.5 L 5.5 22.5 z M 39.5 22.5 A 1.50015 1.50015 0 1 0 39.5 25.5 L 42.5 25.5 A 1.50015 1.50015 0 1 0 42.5 22.5 L 39.5 22.5 z M 13.009766 33.445312 A 1.50015 1.50015 0 0 0 11.978516 33.898438 L 9.8574219 36.019531 A 1.501221 1.501221 0 1 0 11.980469 38.142578 L 14.101562 36.021484 A 1.50015 1.50015 0 0 0 13.009766 33.445312 z M 34.943359 33.445312 A 1.50015 1.50015 0 0 0 33.898438 36.021484 L 36.019531 38.142578 A 1.5012209 1.5012209 0 1 0 38.142578 36.019531 L 36.021484 33.898438 A 1.50015 1.50015 0 0 0 34.943359 33.445312 z M 23.976562 37.978516 A 1.50015 1.50015 0 0 0 22.5 39.5 L 22.5 42.5 A 1.50015 1.50015 0 1 0 25.5 42.5 L 25.5 39.5 A 1.50015 1.50015 0 0 0 23.976562 37.978516 z" fill="white" />
          </Svg>
        </View>
      </View>


      <View className="bg-[#FFF7F0] p-2 rounded-b-md">
        {/* User Info */}
        <View className="flex-row items-center justify-between my-2">
          <View className="flex-row items-center">
            <View className="relative">
              <AvatarPrimitive.Root alt={`${userName}'s Avatar`} className="mr-2">
                <AvatarPrimitive.Image source={{ uri: profileImage }} className="w-10 h-10 rounded-full" />
                <AvatarPrimitive.Fallback>
                  <Text className="text-white font-bold">{userName[0]}</Text>
                </AvatarPrimitive.Fallback>
              </AvatarPrimitive.Root>

              {notificationCount > 0 && (
                <View className="absolute top-0 right-0 bg-red-500 w-4 h-4 rounded-full justify-center items-center">
                  <Text className="text-white text-xs font-bold">{notificationCount}</Text>
                </View>
              )}
            </View>

            <Text className="font-bold text-xl">{userName}</Text>
          </View>

          <View className="flex-row items-center">          
            <View className="bg-white rounded-lg py-1 px-2 flex-row items-center border-2 border-[#FF8A47]">
              {/* SVG Icon */}
              <Svg width="20" height="20" viewBox="0 0 56 56" className="mr-2">
                <Path 
                  d="M0 0 C2.0625 0.4375 2.0625 0.4375 4 1 C4 2.98 4 4.96 4 7 C8.62 7 13.24 7 18 7 C18 5.02 18 3.04 18 1 C19.9375 0.4375 19.9375 0.4375 22 0 C23 1 23 1 23.0625 4.0625 C23.041875 5.031875 23.02125 6.00125 23 7 C24.0725 6.9175 25.145 6.835 26.25 6.75 C30 7 30 7 32.20336914 8.49414062 C34.71322242 11.99477034 34.556141 15.19518771 34.49609375 19.34375 C34.49754898 20.14985718 34.49900421 20.95596436 34.50050354 21.78649902 C34.49884643 23.48774842 34.48730599 25.1890131 34.46655273 26.89013672 C34.43759786 29.49120896 34.44594657 32.09024215 34.45898438 34.69140625 C34.45274654 36.34636405 34.44435525 38.00131543 34.43359375 39.65625 C34.43652939 40.43238647 34.43946503 41.20852295 34.44248962 42.00817871 C34.38946006 45.04991552 34.1388646 47.64322965 33.03149414 50.48828125 C29.70950783 52.96030856 26.04053682 52.56914145 22.0625 52.53125 C20.7477771 52.53699036 20.7477771 52.53699036 19.40649414 52.54284668 C17.55386201 52.54556799 15.70119161 52.53819146 13.84863281 52.52148438 C11.01019771 52.50007691 8.17429372 52.52127761 5.3359375 52.546875 C3.53645274 52.54423176 1.73696955 52.53910686 -0.0625 52.53125 C-0.91255615 52.53934692 -1.7626123 52.54744385 -2.63842773 52.55578613 C-8.3760342 52.46431874 -8.3760342 52.46431874 -11.03149414 50.48828125 C-12.42785477 46.90075729 -12.4479459 43.45073117 -12.43359375 39.65625 C-12.4388356 38.85014282 -12.44407745 38.04403564 -12.44947815 37.21350098 C-12.45589028 35.51230011 -12.45457179 33.81105486 -12.44604492 32.10986328 C-12.43752828 29.50863726 -12.46631525 26.90960326 -12.49804688 24.30859375 C-12.49965889 22.65364649 -12.49908135 20.99869535 -12.49609375 19.34375 C-12.50732773 18.56761353 -12.51856171 17.79147705 -12.53013611 16.99182129 C-12.48480992 13.47647458 -12.27685435 11.38614391 -10.20336914 8.49414062 C-7.10474058 6.39290995 -4.65165753 6.71910327 -1 7 C-1.020625 6.030625 -1.04125 5.06125 -1.0625 4.0625 C-1 1 -1 1 0 0 Z M-6 20 C-6 28.91 -6 37.82 -6 47 C5.22 47 16.44 47 28 47 C28 38.09 28 29.18 28 20 C16.78 20 5.56 20 -6 20 Z" 
                  fill="#F97215" 
                  transform="translate(17,2)" 
                />
                
                <Path 
                  d="M0 0 C4.29 0 8.58 0 13 0 C13.09765625 10.05859375 13.09765625 10.05859375 13 13 C12 14 12 14 9.53125 14.1328125 C8.03078125 14.12894531 8.03078125 14.12894531 6.5 14.125 C5.4996875 14.12757812 4.499375 14.13015625 3.46875 14.1328125 C1 14 1 14 0 13 C-0.14393457 8.66469082 -0.04212061 4.33842269 0 0 Z" 
                  fill="#F97315" 
                  transform="translate(15,28)" 
                />
              </Svg>
              <Text className="text-[#FF8A47] text-sm">{date}</Text>
            </View>
          </View>
        </View>

        {/* Shift Details */}
        <View className="mb-5">
          <View className="flex-row items-center mt-1 mb-2">
            <Svg width="20" height="20" viewBox="0 0 60 60" className='mr-2'>
              <Path 
                d="M0 0 C1.46021611 0.88003008 2.90215377 1.79208167 4.3125 2.75 C5.67375 3.5853125 5.67375 3.5853125 7.0625 4.4375 C14.185239 11.75809286 16.62796377 19.53339098 16.70410156 29.48168945 C16.58622901 35.86046325 14.91138135 40.45135544 11.3125 45.75 C10.755625 46.6575 10.19875 47.565 9.625 48.5 C1.53629697 56.37008943 -5.58194976 57.60953446 -16.63232422 57.46020508 C-25.20549196 57.06534012 -30.58136508 55.13992826 -36.49609375 48.81640625 C-42.75810283 41.11278357 -44.42173906 33.50173986 -44.109375 23.7109375 C-43.5214127 18.19062479 -41.7763985 14.29779517 -38.6875 9.75 C-38.130625 8.8425 -37.57375 7.935 -37 7 C-27.41092884 -2.32990707 -12.34699777 -6.08024362 0 0 Z M-33.28125 13.609375 C-36.95907496 19.20784188 -38.76022768 25.00537886 -37.6875 31.75 C-35.76659371 39.42154397 -32.30089872 44.4054315 -25.6875 48.75 C-19.71511404 51.99082959 -13.80611357 52.78127489 -7.20703125 51.12890625 C0.11993943 48.6348542 4.71944695 44.52862634 8.40625 37.734375 C11.18408221 31.20132517 11.07212714 25.3257824 8.8125 18.6875 C5.89287468 12.00525894 0.99323407 7.65312708 -5.6875 4.8125 C-16.38003369 1.48408484 -26.41711909 4.86732148 -33.28125 13.609375 Z"
                fill="#F97215"
                transform="translate(43.6875,4.25)"
              />
              <Path 
                d="M0 0 C1.67542976 0.28604898 3.34385343 0.61781233 5 1 C4.95617188 2.07378906 4.91234375 3.14757812 4.8671875 4.25390625 C4.56554189 12.52308824 4.56554189 12.52308824 8.2578125 19.515625 C10.94673309 21.34395831 10.94673309 21.34395831 13.75 22.73828125 C16 24 16 24 17 27 C16.34 27.99 15.68 28.98 15 30 C8.34413121 28.99006013 3.06009435 26.47381502 -1 21 C-2.4207766 14.59775169 -2.02037994 7.45520019 -1 1 C-0.67 0.67 -0.34 0.34 0 0 Z"
                fill="#F87215"
                transform="translate(28,13)"
              />
            </Svg>
            <Text className="text-gray-800 text-sm">{time}</Text>
          </View>
          <View className="flex-row items-center mt-1">
            <Svg width="20" height="20" viewBox="0 0 67 60" className='mr-2'>
            <Path
              d="M0 0 C5.39818373 3.17805388 9.43516157 7.88642415 12.125 13.5 C14.37990215 25.52614481 9.16993818 34.93781598 2.58203125 44.8125 C-6.12600886 57.16534865 -6.12600886 57.16534865 -10.0546875 58.2734375 C-10.79976562 58.34820312 -11.54484375 58.42296875 -12.3125 58.5 C-21.90545134 48.56774813 -31.94703196 34.74101028 -33.8125 20.75 C-32.57105502 12.68060762 -29.39495239 7.02373025 -23.3125 1.5 C-16.58146754 -2.72339292 -7.32678214 -3.20724899 0 0 Z M-23.75 11.125 C-26.91597646 15.93728422 -27.29567128 19.81470519 -26.3125 25.5 C-22.62264972 34.3219263 -17.57983545 42.27297881 -11.3125 49.5 C-6.91997325 48.0025477 -5.12055012 44.64303513 -2.8125 40.875 C-2.41812744 40.24053955 -2.02375488 39.6060791 -1.61743164 38.95239258 C-0.5027059 37.14249637 0.59419208 35.3228858 1.6875 33.5 C2.17347656 32.71238281 2.65945312 31.92476562 3.16015625 31.11328125 C5.89610986 26.27878258 6.64150913 21.91254157 5.6875 16.5 C3.83929857 11.22535771 0.68447145 7.95134449 -4.3125 5.5 C-12.21638904 3.24174599 -18.19385445 5.14145864 -23.75 11.125 Z"
              fill="#F97215"
              transform="translate(42.3125,4.5)"
            />
            <Path
              d="M0 0 C3.64184981 2.55704348 4.77792202 4.22272709 6 8.5 C6 12.4263416 5.42734133 13.96582334 3 17 C-0.70880207 19.47253471 -3.70020831 19.6537695 -8 19 C-10.99661827 17.46981195 -12.50383607 16.37174733 -13.6640625 13.1640625 C-14.46115688 9.08481477 -14.17735302 7.33635919 -12.1875 3.5625 C-8.71934153 -0.50019992 -5.16606275 -0.86101046 0 0 Z M-5 6 C-5.66 6.66 -6.32 7.32 -7 8 C-7 9.32 -7 10.64 -7 12 C-3.95086772 13.01111093 -3.95086772 13.01111093 -1 12 C-1.33 10.35 -1.66 8.7 -2 7 C-2.99 6.67 -3.98 6.34 -5 6 Z"
              fill="#F97215"
              transform="translate(36,16)"
            />
            </Svg>
            <Text className="text-gray-800 text-sm">{location}</Text>
          </View>
        </View>

        {/* Action Buttons */}
        <ActionButtons />
      </View>

    </View>
  );
};

export default ShiftCard;
